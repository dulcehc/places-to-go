(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,n){},123:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(60),c=n.n(r),i=n(4),s=n(5),l=n(7),u=n(6),m=n(8),h="I1XSZE5BEBHRTHYF1XHIQAC0SOVDUEF11LW2SHBLQHF4PDHQ",p="CNLWBTQ1KX4UQE2QCXVK14E1XNKGEYBIYIH2QC4YQWNMTO3X",d={client_id:h,client_secret:p,v:"20181112"},f=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),n.props.onSubmit(n.state.venue,n.state.location)},n.handleVenue=function(e){n.setState({venue:e.target.value})},n.handleLocation=function(e){n.setState({location:e.target.value})},n.state={venue:"",location:""},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Search"},o.a.createElement("input",{id:"venueType",onChange:this.handleVenue,value:this.state.venue,placeholder:"venue",className:"Search__venue",autoComplete:"off"}),o.a.createElement("input",{id:"venueLocation",onChange:this.handleLocation,value:this.state.location,placeholder:"location",className:"Search__location"}),o.a.createElement("button",{className:"Search__btn",onClick:this.handleSubmit},"Search"))}}]),t}(a.Component),v=n(24),_="img/icons8-picture.png",E=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).getInformation=function(e){var t="https://api.foursquare.com/v2/venues/".concat(e,"?");fetch(t+new URLSearchParams(d),{method:"GET"}).then(function(e){return e.json()}).then(function(e){var t=e.response.venue,a=0===t.photos.count?_:"".concat(t.bestPhoto.prefix,"original").concat(t.bestPhoto.suffix);n.setState({photo:a,rating:t.rating,error:""})}).catch(function(e){n.setState({error:"The information can't be displayed"})})},n.state={photo:_,rating:0,error:""},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getInformation(this.props.id)}},{key:"componentWillReceiveProps",value:function(e){e.id!==this.props.id&&(this.setState({photo:_,rating:0,error:""}),this.getInformation(e.id))}},{key:"render",value:function(){var e=this.state,t=e.photo,n=e.rating,a=e.error,r=this.props,c=r.name,i=r.location,s=r.onClickedVenue;return o.a.createElement("div",{className:"Venue",onClick:s},o.a.createElement("img",{className:"Venue__image",src:t}),o.a.createElement("div",{className:"Venue__info"},o.a.createElement("span",{className:"Venue__info__header"},o.a.createElement("span",{className:"Venue__info__header__rating"},o.a.createElement(v.b,{color:"yellow"}),n),o.a.createElement("span",{className:"Venue__info__header__title"},c)),o.a.createElement("span",{className:"Venue__info__location"},i&&"Address: ".concat(i))),a&&o.a.createElement("span",{className:"error"},a))}}]),t}(a.Component),g=function(e){var t=e.results,n=e.onSelected;return o.a.createElement("div",{className:"Result"},t.map(function(e,t){return o.a.createElement(E,{key:t,name:e.venue.name,location:e.venue.location.address,id:e.venue.id,onClickedVenue:function(){return t=e.venue.id,void n(t);var t}})}))},b=function(e){var t=e.tip;return o.a.createElement("div",{className:"Tip"},o.a.createElement("span",{className:"Tip__user"},o.a.createElement("img",{src:"".concat(t.user.photo.prefix,"original").concat(t.user.photo.suffix)}),o.a.createElement("span",{className:"Tip__user__name"},t.user.firstName),o.a.createElement("span",{className:"Tip__user__text"},t.text)))},N=n(125),S=n(126),k=n(127),O=n(128),j=n(129),y=n(130),V=function(e){var t=e.url;e.photo;return o.a.createElement("div",{className:"SocialMedia"},o.a.createElement(N.a,{url:t},o.a.createElement(S.a,{size:32})),o.a.createElement(k.a,{url:t},o.a.createElement(O.a,{size:32})),o.a.createElement(j.a,{url:t},o.a.createElement(y.a,{size:32})))},w=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).getInformation=function(e){var t="https://api.foursquare.com/v2/venues/".concat(e,"?");fetch(t+new URLSearchParams(d),{method:"GET"}).then(function(e){return e.json()}).then(function(e){var t=e.response.venue,a=0===t.photos.count?_:"".concat(t.bestPhoto.prefix,"original").concat(t.bestPhoto.suffix),o=t.location.hasOwnProperty("address")?t.location.address:"",r=0===t.tips.count?[]:t.tips.groups[0].items[0];n.setState({name:t.name,category:t.categories[0],photo:a,location:o,likes:t.likes.count,url:t.shortUrl,tip:r,error:""})}).catch(function(e){n.setState({error:"The information can't be displayed"})})},n.state={photo:_,name:"",location:"",likes:0,url:"",tip:[],error:""},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getInformation(this.props.id)}},{key:"componentWillReceiveProps",value:function(e){e.id!==this.props.id&&(this.setState({photo:_,name:"",category:[],location:"",likes:0,url:"",tip:[],error:""}),this.getInformation(e.id))}},{key:"render",value:function(){var e=this.state,t=e.photo,n=e.name,a=e.category,r=e.location,c=e.likes,i=e.url,s=e.tip,l=e.error;return o.a.createElement("div",{className:"DetailedVenue"},o.a.createElement("img",{className:"DetailedVenue__img",src:t}),l?o.a.createElement("span",{className:"error"},l):o.a.createElement("div",{className:"DetailedVenue__info"},o.a.createElement("span",{className:"DetailedVenue__info__name"},n),a&&o.a.createElement("span",{className:"DetailedVenue__info__cat"},a.hasOwnProperty("icon")&&o.a.createElement("img",{src:"".concat(a.icon.prefix,"bg_32").concat(a.icon.suffix)}),a.name),r&&o.a.createElement("span",{className:"DetailedVenue__info__location"},o.a.createElement(v.a,{color:"green"})," ",r),o.a.createElement("span",{className:"DetailedVenue__info__liked"},o.a.createElement(v.c,{color:"blue"}),c),i&&o.a.createElement(V,{url:i}),Object.keys(s).length>0&&o.a.createElement(b,{tip:s})))}}]),t}(a.Component),C=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).getLocation=function(){navigator.geolocation.getCurrentPosition(function(e){n.setState({latlong:"".concat(e.coords.latitude,",").concat(e.coords.longitude),error:""})},function(e){n.setState({error:"You must share your location to use the app"})})},n.getVenues=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a={client_id:h,client_secret:p,limit:4,query:e,v:"20181112",ll:n.state.latlong,near:t};fetch("https://api.foursquare.com/v2/venues/explore?"+new URLSearchParams(a),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({venues:e.response.groups[0].items,id:"",error:""})}).catch(function(e){n.setState({venues:[],error:"No results found"})})},n.handleSelectionVenue=function(e){n.setState({id:e})},n.state={venues:[],latlong:"",id:"",error:""},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getLocation()}},{key:"render",value:function(){var e=this,t=this.state,n=t.venues,a=t.error,r=t.id,c=a||"";return o.a.createElement("div",{className:"App"},this.state.latlong&&o.a.createElement(f,{onSubmit:function(t,n){return e.getVenues(t,n)}}),o.a.createElement("div",{className:"App__container"},n.length>0?o.a.createElement(g,{results:n,onSelected:this.handleSelectionVenue}):o.a.createElement("span",{className:"App__container__error"},c),r&&o.a.createElement(w,{id:r})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(120);c.a.render(o.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},66:function(e,t,n){e.exports=n(123)}},[[66,2,1]]]);
//# sourceMappingURL=main.c25945b7.chunk.js.map